{%extends 'layout.html'%}


{%block title%}
<title>用户登录</title>
{%endblock title%}


{%block content%}
<form role="form" method="post" class="col-md-5 col-md-offset-3">
	<div class="form-group">
		{%for message in get_flashed_messages(category_filter=['change_pwd_success'])%}
			<h4 for="error" style="color: green">{{message}}</h4>
		{%endfor%}
		{%for message in get_flashed_messages(category_filter=['regist_success'])%}
			<h4 for="error" style="color: green">{{message}}</h4>
		{%endfor%}
		{{login_form.user_name.label}}
		{{login_form.user_name(value=request.args['user_name'])}}
		<!-- <input type="text" id="user_name" name="user_name" class="form-control" value="{{request.args['user_name']}}"> -->
		{%for message in get_flashed_messages(category_filter=['login_username_error'])%}
			<label for="error" style="color: red">{{message}}</label>
		{%endfor%}
		{%for form_error in login_form.user_name.errors%}
			<h5 style="color: red">{{form_error}}</h5>
		{%endfor%}
	</div>
	<div class="form-group">
		{{login_form.user_pwd.label}}
		{{login_form.user_pwd}}
		<!-- <input type="password" id="user_pwd" name="user_pwd" class="form-control"> -->
		{%for message in get_flashed_messages(category_filter=['login_userpwd_error'])%}
			<label for="error" style="color: red">{{message}}</label>
		{%endfor%}
		{%for form_error in login_form.user_pwd.errors%}
			<h5 style="color: red">{{form_error}}</h5>
		{%endfor%}
	</div>
	<div class="form-group">
		{{login_form.csrf_token}}
		{{login_form.submit}}
		<!-- <input type="submit" name="submit" class="btn btn-success" value="登录"> -->
	</div>
</form>
{%endblock content%}

{%block js_code%}
<script type="text/javascript">
	$(document).ready(
			function () {
				$("#nav-login").addClass("active")
			}
		);
</script>
{%endblock js_code%}