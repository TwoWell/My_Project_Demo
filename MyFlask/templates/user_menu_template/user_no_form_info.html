{%extends 'layout.html'%}


{%block title%}
<title>修改个人资料</title>
{%endblock title%}


{%block content%}
<div class="jumbotron" style="padding: 5px">
	<!--通过前端校验用户登录状态，没登录过的跳转至登录页面-->
	<!--{%if "user_name" not in session%}
		<script type="text/javascript">
			window.location = "{{url_for('user_login')}}"
		</script>
	{%endif%}-->
	<h4>{{session.get("user_name")}}的资料</h4>
</div>
<div>
	{%include "user_menu_template/user_menu.html"%}
	<div class="col-md-10">
		<div class="jumbotron" style="padding-top: 5px">
			<h2>修改个人资料</h2><hr style="border: solid" />
			{%for message in get_flashed_messages(category_filter=['change_info_success'])%}
				<h4 for="error" style="color: green">{{message}}</h4>
			{%endfor%}
			<form role="form" method="post">
				<div class="form-group">
					<label for="user_name">用户名</label>
					<input type="text" id="user_name" name="user_name" class="form-control" value="{{user.name}}">
				</div>
				<div class="form-group">
					<label for="user_email">邮箱</label>
					<input type="email" id="user_email" name="user_email" class="form-control" value="{{user.email}}">
				</div>
				<div class="form-group">
					<label for="user_age">年龄</label>
					<input type="number" id="user_age" name="user_age" class="form-control" value="{{user.age}}">
				</div>
				<div class="form-group">
					<label for="user_birthday">生日</label>
					<input type="date" id="user_birthday" name="user_birthday" class="form-control" value="{{user.birthday}}">
				</div>
				<div class="form-group">
					<label for="user_face">头像</label>
					<input type="file" id="user_face" name="user_face" class="form-control" value="{{user.face}}">
				</div>
				<div class="form-group">
					<input type="submit" name="submit" class="btn btn-success" value="修改">
				</div>
			</form>
		</div>
	</div>
</div>
{%endblock content%}

{%block js_code%}
<script type="text/javascript">
	$(document).ready(
			function () {
				$("#menu-info").addClass("list-group-item-success")
			}
		);
</script>
{%endblock js_code%}